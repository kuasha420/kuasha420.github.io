<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motion Mechanics - User Journey Flowchart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Styles for Mermaid diagram */
        .mermaid {
            text-align: center;
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-6">

    <div class="w-full max-w-6xl bg-white rounded-xl shadow-lg p-8">
        <header class="text-center mb-8 border-b pb-4">
            <h1 class="text-3xl font-bold text-gray-800">Motion Mechanics</h1>
            <p class="text-lg text-gray-500 mt-1">Detailed User Journey Flowchart (Online & Offline)</p>
        </header>

        <!-- The Mermaid diagram will be rendered here -->
        <div class="mermaid">
            graph TD
                A["Start: Patient seeks treatment"] --> A1{Initial Contact Point};
                A1 -- "Online via Website/App" --> B{Registered User?};
                A1 -- "Offline Walk-in" --> Q["1c. Registers at Reception <br/> Staff creates profile <br/> Receives Patient ID Card <br/> (Card ID enables future online login)"];

                B -- No --> C["1a. Create Account Online <br/> Fills in Name, Phone, Address, Age <br/> Receives permanent Patient ID"];
                B -- Yes --> D["1b. Login Online"];

                C --> E;
                D --> E;
                Q --> E["2. Books & Attends Consultation <br/> Schedules slot, Reception verifies ID, <br/> Physio assesses and refers to specialist"];

                E --> F["3. Specialist Receives Referral <br/> A detailed treatment plan is created"];
                F --> G{Treatment Plan Ready?};
                G -- No --> H["Referral Rejected <br/> Case sent back to initial physio"];
                H --> E;
                G -- Yes --> I["4. Invoice Generated <br/> Reception explains costs & payment plans"];
                I --> J["5. User Makes Payment <br/> Selects preferred option and settles invoice"];
                J --> K{Payment Successful?};
                K -- No --> L["Payment Failed <br/> User can retry or change method"];
                L --> J;
                K -- Yes --> M["6. Therapy Sessions Begin <br/> Specialist updates SOAP notes after each session, <br/> adjusting the treatment plan dynamically"];
                M --> N["7. All Sessions Complete <br/> Patient is pain-free and stronger"];
                N --> O("End: Discharge Process <br/> Summary is generated, user gives feedback, <br/> and follow-up reminders are set");

                %% Styling for different node types
                style A fill:#dcfce7,stroke:#22c55e,stroke-width:2px,color:#166534
                style O fill:#dcfce7,stroke:#22c55e,stroke-width:2px,color:#166534
                style F fill:#fef9c3,stroke:#eab308,stroke-width:2px,color:#854d0e
                style H fill:#fee2e2,stroke:#ef4444,stroke-width:2px,color:#991b1b
                style L fill:#fee2e2,stroke:#ef4444,stroke-width:2px,color:#991b1b
                style A1 fill:#e0e7ff,stroke:#4f46e5,stroke-width:2px,color:#312e81
                style B fill:#e0e7ff,stroke:#4f46e5,stroke-width:2px,color:#312e81
                style G fill:#e0e7ff,stroke:#4f46e5,stroke-width:2px,color:#312e81
                style K fill:#e0e7ff,stroke:#4f46e5,stroke-width:2px,color:#312e81
                style Q fill:#f3e8ff,stroke:#8b5cf6,stroke-width:2px,color:#5b21b6
        </div>
    </div>

    <!-- This script powers the flowchart generation -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

</body>
</html>

